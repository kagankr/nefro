<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KBY'de Anemi Tedavisi</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fadeIn 0.4s ease-out forwards;
    }
  </style>
</head>
<body class="bg-gray-100 p-4 flex items-center justify-center min-h-screen">
  <div id="root" class="w-full"></div>

  <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Step 1 component
    const Step1 = ({ setStep }) => (
      <div className="space-y-4 animate-fade-in">
        <div className="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-600">
          <h3 className="font-bold text-lg text-blue-900 flex items-center gap-2">
            <span data-lucide="activity" className="w-5 h-5"></span> ADIM 1: Anemi VarlÄ±ÄŸÄ±
          </h3>
          <p className="mt-2 text-blue-800">
            <strong>Hb &lt; 11 â€“ 11.5 g/dL</strong> ise deÄŸerlendirmeye baÅŸla.
          </p>
          <div className="mt-3 text-sm text-blue-700 bg-white p-3 rounded shadow-sm">
            <strong>Mutlaka Ä°ste:</strong> Ferritin, TSAT<br/>
            <span className="opacity-75">(Gerekirse: CRP, B12, Folat)</span>
          </div>
        </div>
        <button 
          onClick={() => setStep(2)}
          className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all shadow-md"
        >
          Demir Durumunu SÄ±nÄ±fla <span data-lucide="chevron-right" className="w-5 h-5"></span>
        </button>
      </div>
    );

    // Step 2 component
    const Step2 = ({ setStep, setIronStatus }) => (
      <div className="space-y-4 animate-fade-in">
        <h3 className="font-bold text-lg text-gray-800 border-b pb-2">ADIM 2: Demir Durumu</h3>
        <div className="bg-yellow-50 p-3 text-sm text-yellow-900 border-l-4 border-yellow-500 rounded mb-2 shadow-sm">
          <strong className="block mb-1">ğŸ“‹ SUT KuralÄ± (IV Demir):</strong>
          Evre III, IV, V KBH hastalarÄ±nda; <br/>
          <strong>TSAT &lt; %20</strong> ve/veya <strong>Ferritin &lt; 100 Âµg/L</strong> ise IV demir tedavisi karÅŸÄ±lanÄ±r.
        </div>
        <button 
          onClick={() => { setIronStatus('deficient'); setStep(3); }}
          className="w-full text-left p-4 rounded-lg border-2 border-red-100 bg-red-50 hover:bg-red-100 hover:border-red-300 transition-all group"
        >
          <div className="flex items-center gap-2 font-bold text-red-700 mb-1">
            <div className="w-3 h-3 rounded-full bg-red-600"></div> Demir EksikliÄŸi Mevcut
          </div>
          <div className="text-sm text-gray-600 pl-5">
            TSAT &lt; %20 <strong>ve/veya</strong> Ferritin &lt; 100 Âµg/L
          </div>
          <div className="mt-2 pl-5 text-red-600 font-semibold text-sm group-hover:translate-x-1 transition-transform">
            ğŸ‘‰ IV Demir Tedavisi BaÅŸla
          </div>
        </button>
        <button 
          onClick={() => { setIronStatus('replete'); setStep(5); }}
          className="w-full text-left p-4 rounded-lg border-2 border-green-100 bg-green-50 hover:bg-green-100 hover:border-green-300 transition-all group"
        >
          <div className="flex items-center gap-2 font-bold text-green-700 mb-1">
            <div className="w-3 h-3 rounded-full bg-green-600"></div> Demir Yeterli
          </div>
          <div className="text-sm text-gray-600 pl-5">
            TSAT â‰¥ %20 <strong>ve</strong> Ferritin â‰¥ 100 Âµg/L
          </div>
          <div className="mt-2 pl-5 text-green-700 font-semibold text-sm group-hover:translate-x-1 transition-transform">
            ğŸ‘‰ Hb dÃ¼ÅŸÃ¼kse ESA/Roksadustat
          </div>
        </button>
      </div>
    );

    // Step 3 component
    const Step3 = ({ setStep, setIronDrug }) => (
      <div className="space-y-4 animate-fade-in">
        <h3 className="font-bold text-lg text-gray-800 border-b pb-2">ADIM 3: IV Demir SeÃ§imi</h3>
        <p className="text-sm text-gray-500 mb-2">Hangi ajanÄ± kullanacaksÄ±nÄ±z?</p>
        <button 
          onClick={() => { setIronDrug('carboxymaltose'); setStep(4); }}
          className="w-full p-4 bg-white border border-gray-200 shadow-sm rounded-lg hover:border-blue-400 hover:shadow-md transition-all text-left relative overflow-hidden"
        >
          <div className="absolute top-0 right-0 bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-bl-lg font-bold">HÄ±zlÄ± Etki</div>
          <h4 className="font-bold text-gray-800 text-lg">Demir Karboksimaltoz</h4>
          <p className="text-sm text-gray-500">(InferjectÂ®, FerapplicÂ®)</p>
          <p className="mt-2 text-sm text-gray-600">Prediyaliz/PD iÃ§in ideal. Daha az seans.</p>
        </button>
        <button 
          onClick={() => { setIronDrug('sucrose'); setStep(4); }}
          className="w-full p-4 bg-white border border-gray-200 shadow-sm rounded-lg hover:border-blue-400 hover:shadow-md transition-all text-left relative overflow-hidden"
        >
          <div className="absolute top-0 right-0 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-bl-lg font-bold">GÃ¼venli/Klasik</div>
          <h4 className="font-bold text-gray-800 text-lg">Demir SÃ¼kroz</h4>
          <p className="text-sm text-gray-500">(VenoferÂ®, FericoseÂ®, SÃ¼kroferÂ®)</p>
          <p className="mt-2 text-sm text-gray-600">KBH'de en yaygÄ±n gÃ¼venli ajan.</p>
        </button>
      </div>
    );

    // Step 4 component
    const Step4 = ({ setStep, ironDrug, patientType, setPatientType }) => {
      if (ironDrug === 'carboxymaltose') {
        return (
          <div className="space-y-4 animate-fade-in">
            <h3 className="font-bold text-lg text-purple-900 border-b pb-2 flex items-center gap-2">
              <span data-lucide="droplet" className="w-5 h-5"></span> Demir Karboksimaltoz
            </h3>
            <div className="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
              <h4 className="font-bold text-gray-800">Dozlama</h4>
              <ul className="list-disc pl-5 mt-2 text-gray-700 space-y-1">
                <li>Tek doz veya haftalÄ±k uygulama</li>
                <li><strong>Maksimum:</strong> 1000 mg/hafta</li>
                <li><strong>Toplam Doz:</strong> Genellikle 1000 mg</li>
              </ul>
            </div>
            <div className="bg-red-50 p-4 rounded-lg border border-red-200">
              <h4 className="font-bold text-red-800 flex items-center gap-2">
                <span data-lucide="alert-triangle" className="w-5 h-5"></span> DÄ°KKAT: 6H SENDROMU
              </h4>
              <p className="text-sm text-red-700 mt-1 mb-2">High FGF-23 kaynaklÄ± Hipofosfatemi riski.</p>
            </div>
            <button 
              onClick={() => setStep(5)}
              className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg mt-4 flex items-center justify-center gap-2"
            >
              Tedavi SonrasÄ± & ESA/Roksadustat <span data-lucide="chevron-right" className="w-5 h-5"></span>
            </button>
          </div>
        );
      }
      // Iron sucrose
      return (
        <div className="space-y-4 animate-fade-in">
          <h3 className="font-bold text-lg text-blue-900 border-b pb-2 flex items-center gap-2">
            <span data-lucide="droplet" className="w-5 h-5"></span> Demir SÃ¼kroz ProtokolÃ¼
          </h3>
          {!patientType ? (
            <div className="space-y-3">
              <p className="text-gray-600 font-medium">Hasta tipi seÃ§iniz:</p>
              <button onClick={() => setPatientType('HD')} className="w-full p-3 text-left bg-red-50 hover:bg-red-100 text-red-800 rounded font-semibold border border-red-200">ğŸ”´ Hemodiyaliz (HD)</button>
              <button onClick={() => setPatientType('PD')} className="w-full p-3 text-left bg-blue-50 hover:bg-blue-100 text-blue-800 rounded font-semibold border border-blue-200">ğŸ”µ Periton Diyalizi (PD)</button>
              <button onClick={() => setPatientType('CKD')} className="w-full p-3 text-left bg-green-50 hover:bg-green-100 text-green-800 rounded font-semibold border border-green-200">ğŸ”¶ Diyalize Girmeyen KBH</button>
            </div>
          ) : (
            <div className="bg-white p-5 rounded-lg border-l-4 border-blue-500 shadow-sm">
              {patientType === 'HD' && (
                <>
                  <h4 className="font-bold text-xl text-red-600 mb-2">Hemodiyaliz ProtokolÃ¼</h4>
                  <div className="text-lg font-medium text-gray-800">100 mg IV</div>
                  <p className="text-gray-600">ArdÄ±ÅŸÄ±k diyaliz seanslarÄ±nda. Toplam: 1000 mg.</p>
                </>
              )}
              {patientType === 'PD' && (
                <>
                  <h4 className="font-bold text-xl text-blue-600 mb-2">Periton Diyalizi ProtokolÃ¼</h4>
                  <div className="text-gray-800">300 mg â†’ 300 mg â†’ 400 mg (14 gÃ¼n arayla)</div>
                </>
              )}
              {patientType === 'CKD' && (
                <>
                  <h4 className="font-bold text-xl text-green-600 mb-2">Diyalize Girmeyen KBH</h4>
                  <div className="text-lg font-medium text-gray-800">200 mg IV (5 doz)</div>
                </>
              )}
              <button 
                onClick={() => setPatientType(null)}
                className="mt-4 text-xs text-blue-500 underline"
              >
                Hasta tipini deÄŸiÅŸtir
              </button>
            </div>
          )}
          {patientType && (
            <button 
              onClick={() => setStep(5)}
              className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg mt-4 flex items-center justify-center gap-2"
            >
              Tedavi SonrasÄ± & ESA/Roksadustat <span data-lucide="chevron-right" className="w-5 h-5"></span>
            </button>
          )}
        </div>
      );
    };

    // Step 5 component
    const Step5 = ({ setStep, setTreatmentType }) => (
      <div className="space-y-4 animate-fade-in">
        <div className="bg-orange-50 p-4 rounded-lg border border-orange-200 shadow-sm">
          <h3 className="font-bold text-orange-900 flex items-center gap-2 text-lg">
            <span data-lucide="file-text" className="w-5 h-5"></span> SUT BaÅŸlama Kriterleri
          </h3>
          <div className="mt-3 space-y-2 text-sm text-orange-900">
            <div className="flex items-start gap-2">
              <span data-lucide="check-circle" className="w-4 h-4 mt-0.5 text-orange-600"></span>
              <span><strong>Demir Yeterli:</strong> TSAT â‰¥ %20 ve/veya Ferritin â‰¥ 100 olmalÄ±.</span>
            </div>
            <div className="flex items-start gap-2">
              <span data-lucide="check-circle" className="w-4 h-4 mt-0.5 text-orange-600"></span>
              <span><strong>BaÅŸlangÄ±Ã§ Hb:</strong> &lt; 10 g/dL</span>
            </div>
            <div className="flex items-start gap-2">
              <span data-lucide="info" className="w-4 h-4 mt-0.5 text-blue-600"></span>
              <span><strong>Hedef Hb:</strong> 11 - 12 g/dL</span>
            </div>
            <div className="flex items-start gap-2 font-bold text-red-600 bg-white p-2 rounded">
              <span data-lucide="alert-triangle" className="w-4 h-4 mt-0.5"></span>
              <span>Hb &gt; 12 g/dL olunca tedavi KESÄ°LÄ°R.</span>
            </div>
          </div>
        </div>
        <h4 className="font-bold text-gray-800 mt-2">Tedavi SeÃ§imi:</h4>
        <button 
          onClick={() => { setTreatmentType('ROXA'); setStep(6); }}
          className="w-full p-4 bg-white border-2 border-purple-100 hover:border-purple-500 rounded-lg shadow-sm group transition-all text-left"
        >
          <div className="font-bold text-purple-800 text-lg flex justify-between">
            Roksadustat (HIF-PH Ä°nhibitÃ¶rÃ¼)
            <span className="text-xs bg-purple-100 px-2 py-1 rounded text-purple-800">Oral Tablet</span>
          </div>
          <p className="text-xs text-gray-500 mt-1">Diyaliz hastalarÄ± (HD/PD) iÃ§in endike.</p>
        </button>
        <button 
          onClick={() => { setTreatmentType('ESA'); setStep(6); }}
          className="w-full p-4 bg-white border-2 border-blue-100 hover:border-blue-500 rounded-lg shadow-sm group transition-all text-left"
        >
          <div className="font-bold text-blue-800 text-lg flex justify-between">
            Klasik ESA Tedavisi
            <span className="text-xs bg-blue-100 px-2 py-1 rounded text-blue-800">SC / IV</span>
          </div>
          <p className="text-xs text-gray-500 mt-1">Darbepoetin, Epoetin alfa/beta/zeta...</p>
        </button>
      </div>
    );

    // Step 6 component
    const Step6 = ({ treatmentType, setStep, resetAlgorithm }) => {
      const [weight, setWeight] = useState(null);
      const [patientStatus, setPatientStatus] = useState(null);

      if (treatmentType === 'ROXA') {
        return (
          <div className="space-y-4 animate-fade-in">
            <h3 className="font-bold text-lg text-purple-900 border-b pb-2 flex items-center gap-2">
              <span data-lucide="pill" className="w-5 h-5"></span> Roksadustat SUT KurallarÄ±
            </h3>
            {!patientStatus ? (
              <div className="space-y-3">
                <p className="text-sm font-bold text-gray-700">Hasta durumu nedir?</p>
                <button onClick={() => setPatientStatus('naive')} className="w-full p-3 bg-purple-50 hover:bg-purple-100 text-purple-900 rounded border border-purple-200 font-semibold text-left">
                  ğŸ†• ESA Naive (Åu an ESA almÄ±yor)
                </button>
                <button onClick={() => setPatientStatus('switch')} className="w-full p-3 bg-gray-50 hover:bg-gray-100 text-gray-700 rounded border border-gray-200 font-semibold text-left">
                  ğŸ”„ Stabil ESA HastasÄ± (GeÃ§iÅŸ)
                </button>
              </div>
            ) : (
              <>
                {patientStatus === 'switch' ? (
                  <div className="bg-yellow-50 p-4 border-l-4 border-yellow-500 text-yellow-800 text-sm">
                    <strong className="block mb-2 text-lg">âš ï¸ SUT UyarÄ±sÄ±</strong>
                    Sadece <strong>geÃ§erli bir klinik neden</strong> olmasÄ± ve raporda belirtilmesi halinde geÃ§iÅŸ yapÄ±labilir.
                    <br/><br/>
                    BaÅŸlangÄ±Ã§ dozu: Ã–nceki 4 haftalÄ±k ortalama ESA dozuna gÃ¶re (KÃœB'e bakÄ±nÄ±z).
                  </div>
                ) : (
                  <div className="space-y-4">
                    {!weight ? (
                      <div className="space-y-3">
                        <p className="text-sm font-bold text-gray-700 flex items-center gap-2">
                          <span data-lucide="scale" className="w-4 h-4"></span> Hasta AÄŸÄ±rlÄ±ÄŸÄ±:
                        </p>
                        <button onClick={() => setWeight('under100')} className="w-full p-3 bg-white border hover:border-purple-500 rounded shadow-sm text-center font-bold text-gray-700">
                          &lt; 100 kg
                        </button>
                        <button onClick={() => setWeight('over100')} className="w-full p-3 bg-white border hover:border-purple-500 rounded shadow-sm text-center font-bold text-gray-700">
                          â‰¥ 100 kg
                        </button>
                      </div>
                    ) : (
                      <div className="bg-purple-600 text-white p-6 rounded-lg shadow-lg text-center animate-fade-in">
                        <div className="text-sm opacity-80 mb-1">BaÅŸlangÄ±Ã§ Dozu</div>
                        <div className="text-4xl font-bold mb-2">
                          {weight === 'under100' ? '70 mg' : '100 mg'}
                        </div>
                        <div className="text-lg font-medium bg-purple-700 rounded py-1">Haftada 3 kez</div>
                      </div>
                    )}
                  </div>
                )}
                {(weight || patientStatus === 'switch') && (
                  <div className="mt-4 bg-gray-50 p-3 rounded text-xs text-gray-600 space-y-2 border">
                    <p>ğŸš  <strong>ReÃ§ete:</strong> Bir defada en fazla 1 aylÄ±k.</p>
                    <p>ğŸ“Š <strong>Takip (Demir):</strong> HD 3 ayda bir, PD 4 ayda bir TSAT/Ferritin bak. Raporda tarih/sonuÃ§ belirt.</p>
                    <p>ğŸ¯ <strong>Hedef:</strong> Hb 11-12 arasÄ± tut. &gt;12 ise kes.</p>
                  </div>
                )}
                {(weight || patientStatus === 'switch') && (
                  <div className="flex gap-2 mt-4">
                    <button onClick={() => { setWeight(null); setPatientStatus(null); }} className="flex-1 py-2 text-gray-500 text-sm underline">Geri</button>
                    <button onClick={resetAlgorithm} className="flex-1 bg-gray-800 text-white py-2 rounded">BaÅŸa DÃ¶n</button>
                  </div>
                )}
              </>
            )}
          </div>
        );
      }
      // ESA treatment
      return (
        <div className="space-y-4 animate-fade-in">
          <h3 className="font-bold text-lg text-blue-900 border-b pb-2 flex items-center gap-2">
            <span data-lucide="pill" className="w-5 h-5"></span> Klasik ESA DozlarÄ±
          </h3>
          <div className="space-y-3">
            <div className="bg-white p-3 border border-blue-200 rounded-lg shadow-sm">
              <h4 className="font-bold text-blue-800 text-sm mb-1 flex justify-between">
                Darbepoetin alfa
                <span className="text-xs font-normal bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full">AranespÂ®</span>
              </h4>
              <p className="text-xs text-gray-500 mb-2">Uzun etkili (Haftada 1 veya 2 haftada 1)</p>
              <div className="grid grid-cols-2 gap-2 text-xs mb-2">
                <div className="bg-blue-50 p-2 rounded">
                  <span className="block font-bold text-blue-900">BaÅŸlangÄ±Ã§</span>
                  0.25 - 0.75 mcg/kg/hf
                </div>
                <div className="bg-green-50 p-2 rounded">
                  <span className="block font-bold text-green-900">Ä°dame</span>
                  0.13 - 0.35 mcg/kg/hf
                </div>
              </div>
              <div className="flex items-center gap-2 bg-gray-800 text-white p-2 rounded text-xs">
                <span data-lucide="calculator" className="w-3 h-3 text-yellow-400 flex-shrink-0"></span>
                <div>
                  <div className="flex justify-between gap-4">
                    <span><strong>70 kg BaÅŸlangÄ±Ã§:</strong> 17.5 - 52.5 mcg</span>
                  </div>
                  <div className="flex justify-between gap-4 mt-0.5 border-t border-gray-600 pt-0.5">
                    <span><strong>70 kg Ä°dame:</strong> 9.1 - 24.5 mcg</span>
                  </div>
                </div>
              </div>
            </div>
            <div className="bg-white p-3 border border-blue-200 rounded-lg shadow-sm">
              <h4 className="font-bold text-blue-800 text-sm mb-1 flex flex-col">
                Eritropoietin alfa / beta / zeta
                <span className="text-xs font-normal text-gray-500 mt-0.5">EprexÂ®, EporonÂ®, DropoetinÂ®, BinocritÂ®, Neo-RecormonÂ®</span>
              </h4>
              <div className="grid grid-cols-2 gap-2 text-xs mb-2">
                <div className="bg-blue-50 p-2 rounded">
                  <span className="block font-bold text-blue-900">BaÅŸlangÄ±Ã§</span>
                  50-150 IU/kg/hafta
                </div>
                <div className="bg-green-50 p-2 rounded">
                  <span className="block font-bold text-green-900">Ä°dame</span>
                  25-75 IU/kg/hafta
                </div>
              </div>
              <div className="flex items-center gap-2 bg-gray-800 text-white p-2 rounded text-xs">
                <span data-lucide="calculator" className="w-3 h-3 text-yellow-400"></span>
                <div>
                  <strong>70 kg iÃ§in:</strong> 3.500 - 10.500 IU/hafta
                  <div className="text-gray-300 text-[10px]">(Genelde haftada 3 x 2000 IU)</div>
                </div>
              </div>
            </div>
            <div classAndFeel="bg-white p-3 border border-blue-200 rounded-lg shadow-sm">
              <h4 className="font-bold text-blue-800 text-sm mb-1 flex justify-between">
                Metoksipolietilen glikol epoetin beta
                <span className="text-xs font-normal bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full">MirceraÂ®</span>
              </h4>
              <p className="text-xs text-gray-500 mb-2">Ã‡ok uzun etkili (Ayda 1 veya 2 haftada 1)</p>
              <div className="grid grid-cols-2 gap-2 text-xs mb-2">
                <div className="bg-blue-50 p-2 rounded">
                  <span className="block font-bold text-blue-900">BaÅŸlangÄ±Ã§</span>
                  0.4 - 0.94 mcg/kg <br/>(2 haftada 1)
                </div>
                <div className="bg-green-50 p-2 rounded">
                  <span className="block font-bold text-green-900">Ä°dame</span>
                  0.8 - 1.88 mcg/kg <br/>(Ayda 1)
                </div>
              </div>
              <div className="flex items-center gap-2 bg-gray-800 text-white p-2 rounded text-xs">
                <span data-lucide="calculator" className="w-3 h-3 text-yellow-400"></span>
                <div>
                  <strong>70 kg iÃ§in:</strong> 28 - 65 mcg (2 haftada bir)
                  <div className="text-gray-300 text-[10px]">(Pratikte 50 mcg baÅŸlanÄ±r)</div>
                </div>
              </div>
            </div>
          </div>
          <div className="bg-red-50 p-3 rounded text-xs text-red-800 border border-red-200 mt-2">
            <strong className="block mb-1">ğŸš« Kritik SUT KurallarÄ±:</strong>
            <ul className="list-disc pl-4 space-y-1">
              <li>Bir defada <strong>en fazla 1 aylÄ±k</strong> ilaÃ§ verilir.</li>
              <li>Hb &gt; 12 g/dL olunca <strong>tedavi kesilir.</strong></li>
              <li>Hb 11-12 arasÄ±na dÃ¼ÅŸÃ¼nce <strong>idame dozdan</strong> tekrar baÅŸlanÄ±r.</li>
              <li>TSAT &gt; %20 ve Ferritin &gt; 100 olmalÄ±dÄ±r (Tedavi boyunca).</li>
            </ul>
          </div>
          <button onClick={resetAlgorithm} className="w-full bg-gray-800 hover:bg-black text-white py-3 rounded mt-2 flex items-center justify-center gap-2">
            <span data-lucide="rotate-ccw" className="w-4 h-4"></span> BaÅŸa DÃ¶n
          </button>
        </div>
      );
    };

    // Main App component
    const App = () => {
      const [step, setStep] = useState(1);
      const [ironStatus, setIronStatus] = useState(null);
      const [patientType, setPatientType] = useState(null);
      const [ironDrug, setIronDrug] = useState(null);
      const [treatmentType, setTreatmentType] = useState(null);

      const resetAlgorithm = () => {
        setStep(1);
        setIronStatus(null);
        setPatientType(null);
        setIronDrug(null);
        setTreatmentType(null);
      };

      useEffect(() => {
        if (window.lucide) {
          window.lucide.createIcons();
        }
      });

      return (
        <div className="min-h-screen bg-gray-100 p-4 font-sans flex items-center justify-center">
          <div className="bg-white max-w-md w-full rounded-xl shadow-xl overflow-hidden flex flex-col min-h-[600px]">
            <div className="bg-slate-900 p-4 text-white flex justify-between items-center">
              <div>
                <h1 className="text-xl font-bold flex items-center gap-2">
                  <span data-lucide="pill" className="w-5 h-5 text-blue-400"></span> KBH Anemi (SUT)
                </h1>
                <p className="text-xs text-gray-400">Demir + ESA + Roksadustat</p>
              </div>
              {step > 1 && (
                <button onClick={resetAlgorithm} className="text-gray-400 hover:text-white">
                  <span data-lucide="rotate-ccw" className="w-5 h-5"></span>
                </button>
              )}
            </div>
            <div className="h-2 bg-gray-200 w-full">
              <div 
                className="h-full bg-blue-500 transition-all duration-500 ease-in-out" 
                style={{ width: `${(step / 6) * 100}%` }}
              ></div>
            </div>
            <div className="p-5 flex-grow overflow-y-auto">
              {step === 1 && <Step1 setStep={setStep} />}
              {step === 2 && <Step2 setStep={setStep} setIronStatus={setIronStatus} />}
              {step === 3 && <Step3 setStep={setStep} setIronDrug={setIronDrug} />}
              {step === 4 && <Step4 setStep={setStep} ironDrug={ironDrug} patientType={patientType} setPatientType={setPatientType} />}
              {step === 5 && <Step5 setStep={setStep} setTreatmentType={setTreatmentType} />}
              {step === 6 && <Step6 treatmentType={treatmentType} setStep={setStep} resetAlgorithm={resetAlgorithm} />}
            </div>
            <div className="bg-gray-50 p-3 text-center text-xs text-gray-500 border-t">
              SUT KurallarÄ± ile gÃ¼ncellenmiÅŸtir. Hekim gÃ¶rÃ¼ÅŸÃ¼ esastÄ±r.
            </div>
          </div>
        </div>
      );
    };

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
